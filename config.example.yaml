# gostt-writer configuration
# Default location: ~/.config/gostt-writer/config.yaml

# Transcription backend settings
transcribe:
  # Backend: "whisper" (default) or "parakeet"
  #   whisper  - whisper.cpp via Go bindings, uses CPU/GPU
  #   parakeet - Parakeet TDT 0.6B v2 via CoreML, uses Apple Neural Engine
  backend: whisper

  # Path to whisper.cpp model in ggml format (whisper backend only)
  # Relative paths are resolved from the working directory (project root for 'task run')
  # Use absolute path or ~ prefix for installed models
  model_path: models/ggml-base.en.bin

  # Directory containing Parakeet CoreML models + vocabulary (parakeet backend only)
  # Must contain: Preprocessor.mlmodelc, Encoder.mlmodelc, Decoder.mlmodelc,
  #               JointDecision.mlmodelc, parakeet_vocab.json
  # Download with: task parakeet-model
  parakeet_model_dir: models/parakeet-tdt-v2

# DEPRECATED: top-level model_path is supported for backward compatibility.
# If set and transcribe.model_path is not, it will be used as transcribe.model_path.
# model_path: models/ggml-base.en.bin

# Global hotkey configuration
hotkey:
  # Key combination (modifier keys + trigger key)
  keys: ["ctrl", "shift", "r"]
  # Mode: "hold" = push-to-talk, "toggle" = press to start/stop
  mode: hold

# Audio capture settings
audio:
  # Sample rate in Hz (both backends expect 16000)
  sample_rate: 16000
  # Number of channels (both backends expect mono)
  channels: 1

# Text injection settings
inject:
  # Method: "type" = keystroke simulation (preserves clipboard),
  #         "paste" = clipboard + Cmd+V (faster but overwrites clipboard)
  #         "ble" = send to ESP32-S3 via Bluetooth Low Energy (requires pairing)
  method: type

  # BLE output settings (only used when method is "ble")
  # Run "task ble-pair" to pair with an ESP32-S3 running ToothPaste firmware.
  # device_mac and shared_secret are written automatically by the pairing command.
  # ble:
  #   device_mac: "AA:BB:CC:DD:EE:FF"
  #   shared_secret: "..."
  #   queue_size: 64        # max buffered messages during BLE disconnect (default: 64)
  #   reconnect_max: 30     # max reconnect backoff in seconds (default: 30)

# Log level: debug, info, warn, error
log_level: info
